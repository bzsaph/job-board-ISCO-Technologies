{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport api from '../../services/api';\n\n// Fetch all jobs (public)\nexport const fetchJobs = createAsyncThunk('jobs/fetch', async (params = '') => {\n  const res = await api.get(`/jobs${params}`);\n  return res.data;\n});\n\n// Fetch single job (public)\nexport const fetchJob = createAsyncThunk('jobs/fetchOne', async id => {\n  const res = await api.get(`/jobs/${id}`);\n  return res.data;\n});\n\n// Create job (requires auth)\nexport const createJob = createAsyncThunk('jobs/create', async (payload, {\n  getState\n}) => {\n  const token = getState().auth.token;\n  console.log('Creating job with payload:', payload);\n  if (!token) throw new Error('Not logged in');\n  const res = await api.post('/jobs', payload, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    }\n  });\n  return res.data;\n});\n\n// Update job (requires auth)\nexport const updateJob = createAsyncThunk('jobs/update', async ({\n  id,\n  data\n}, {\n  getState\n}) => {\n  const token = getState().auth.token;\n  if (!token) throw new Error('Not logged in');\n  const res = await api.put(`/jobs/${id}`, data, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    }\n  });\n  return res.data;\n});\n\n// Delete job (requires auth)\nexport const deleteJob = createAsyncThunk('jobs/delete', async (id, {\n  getState\n}) => {\n  const token = getState().auth.token;\n  if (!token) throw new Error('Not logged in');\n  await api.delete(`/jobs/${id}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return id;\n});\nconst slice = createSlice({\n  name: 'jobs',\n  initialState: {\n    list: [],\n    current: null,\n    status: 'idle',\n    error: null\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchJobs.fulfilled, (state, action) => {\n      state.list = action.payload;\n      state.error = null;\n    }).addCase(fetchJobs.rejected, (state, action) => {\n      state.error = action.error.message;\n    }).addCase(fetchJob.fulfilled, (state, action) => {\n      state.current = action.payload;\n      state.error = null;\n    }).addCase(fetchJob.rejected, (state, action) => {\n      state.error = action.error.message;\n    }).addCase(createJob.fulfilled, (state, action) => {\n      state.list.unshift(action.payload);\n      state.error = null;\n    }).addCase(createJob.rejected, (state, action) => {\n      state.error = action.error.message;\n    }).addCase(updateJob.fulfilled, (state, action) => {\n      state.list = state.list.map(j => j.id === action.payload.id ? action.payload : j);\n      state.current = action.payload;\n      state.error = null;\n    }).addCase(updateJob.rejected, (state, action) => {\n      state.error = action.error.message;\n    }).addCase(deleteJob.fulfilled, (state, action) => {\n      state.list = state.list.filter(j => j.id !== action.payload);\n      state.error = null;\n    }).addCase(deleteJob.rejected, (state, action) => {\n      state.error = action.error.message;\n    });\n  }\n});\nexport default slice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","api","fetchJobs","params","res","get","data","fetchJob","id","createJob","payload","getState","token","auth","console","log","Error","post","headers","Authorization","updateJob","put","deleteJob","delete","slice","name","initialState","list","current","status","error","reducers","extraReducers","builder","addCase","fulfilled","state","action","rejected","message","unshift","map","j","filter","reducer"],"sources":["D:/fullstacker/job-board/frontend/src/store/slices/jobsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport api from '../../services/api';\n\n// Fetch all jobs (public)\nexport const fetchJobs = createAsyncThunk('jobs/fetch', async (params = '') => {\n  const res = await api.get(`/jobs${params}`);\n  return res.data;\n});\n\n// Fetch single job (public)\nexport const fetchJob = createAsyncThunk('jobs/fetchOne', async (id) => {\n  const res = await api.get(`/jobs/${id}`);\n  return res.data;\n});\n\n// Create job (requires auth)\nexport const createJob = createAsyncThunk(\n  'jobs/create',\n  async (payload, { getState }) => {\n    const token = getState().auth.token;\n    console.log('Creating job with payload:', payload);\n    if (!token) throw new Error('Not logged in');\n\n    const res = await api.post('/jobs', payload, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n    });\n    return res.data;\n  }\n);\n\n// Update job (requires auth)\nexport const updateJob = createAsyncThunk(\n  'jobs/update',\n  async ({ id, data }, { getState }) => {\n    const token = getState().auth.token;\n    if (!token) throw new Error('Not logged in');\n\n    const res = await api.put(`/jobs/${id}`, data, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n    });\n    return res.data;\n  }\n);\n\n// Delete job (requires auth)\nexport const deleteJob = createAsyncThunk(\n  'jobs/delete',\n  async (id, { getState }) => {\n    const token = getState().auth.token;\n    if (!token) throw new Error('Not logged in');\n\n    await api.delete(`/jobs/${id}`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return id;\n  }\n);\n\nconst slice = createSlice({\n  name: 'jobs',\n  initialState: { list: [], current: null, status: 'idle', error: null },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchJobs.fulfilled, (state, action) => {\n        state.list = action.payload;\n        state.error = null;\n      })\n      .addCase(fetchJobs.rejected, (state, action) => {\n        state.error = action.error.message;\n      })\n      .addCase(fetchJob.fulfilled, (state, action) => {\n        state.current = action.payload;\n        state.error = null;\n      })\n      .addCase(fetchJob.rejected, (state, action) => {\n        state.error = action.error.message;\n      })\n      .addCase(createJob.fulfilled, (state, action) => {\n        state.list.unshift(action.payload);\n        state.error = null;\n      })\n      .addCase(createJob.rejected, (state, action) => {\n        state.error = action.error.message;\n      })\n      .addCase(updateJob.fulfilled, (state, action) => {\n        state.list = state.list.map(j => j.id === action.payload.id ? action.payload : j);\n        state.current = action.payload;\n        state.error = null;\n      })\n      .addCase(updateJob.rejected, (state, action) => {\n        state.error = action.error.message;\n      })\n      .addCase(deleteJob.fulfilled, (state, action) => {\n        state.list = state.list.filter(j => j.id !== action.payload);\n        state.error = null;\n      })\n      .addCase(deleteJob.rejected, (state, action) => {\n        state.error = action.error.message;\n      });\n  },\n});\n\n\nexport default slice.reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}